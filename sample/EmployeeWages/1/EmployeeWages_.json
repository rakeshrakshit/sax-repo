{"id":"EmployeeWages","name":"EmployeeWages","tempPipelineName":"Pipeline_1556293187345","status":"STOPPED","config":{"inspect":false,"autoInspection":false,"typeOfApplication":"structuredstreaming","batchDuration":"","executorCores":"2","executorMemory":"512","receiverRateLimiter":"none","receiverMaxRate":"50000","enableBackPressure":"true","enableCheckPoint":"false","checkPointDirectory":"/","eventLogEnabled":"false","eventLogDirectory":"/","poolNname":"FIFO","deploymentMode":"yarn-cluster","driverCores":"1","driverPermGenSize":"256","driverMemory":"512","taskMaxFailures":"4","yarnAmCores":"1","yarnAmMemory":"512","dynamicAllocationEnabled":"false","initialExecutors":"1","maxExecutors":"-1","executorInstances":"1","yarnUser":"hdfs","yarnQueue":"default","extraDriverJavaOptions":"","extraExecutorJavaOptions":"","extraSparkSubmitOptions":"--conf spark.streaming.kafka.maxRetries=100000000","logLevel":"ERROR","engine":"spark","isDirty":false},"scheduling":null,"channels":[{"coordinates":[10,10],"className":"com.streamanalytix.spark.ss.receiver.SparkSSReceiver","label":"Kafka","inputDStreamType":"na","emitStreamIds":[{"emitStreamId":"defaultStream","outputFields":["tracemessage","streamIds"],"applyFilter":false,"filterCriteria":[],"componentId":"Expressionfilter_691742"},{"emitStreamId":"saxErrorStream","outputFields":["tracemessage","streamIds"],"applyFilter":false,"filterCriteria":[],"componentId":"deadLaterChannel"}],"appType":"structuredstreaming","messageTypeId":"tracemessage","name":"Kafka_320087","id":"kafka-channel","schemaIdentifier":null,"outputDStreamType":"plain","config":{"partitions":"1","startingOffsets":"latest","replicationFactor":"1","maxConnectionRetry":"3","brokerZkRoot":"/global/topicsoffset","topicNameType":"topicName","channelPlugin":"com.streamanalytix.spark.ss.receiver.KafkaSource","defineoffset":"latest","endingOffsets":"latest","zkID":"employee","connectionRetryDelay":"30000","topicName":"employee","connectionId":"c9b5a492-12f0-4232-b3b7-baec4b9b841d","connectionName":"Default","connectionConfig":{},"saxInspect":{"referenceSchemaId":{"inputSchemaId":[],"outputSchemaId":["Kafka_320087"]},"header":true,"detectSchema":false,"typeOfSchemaDetection":"fileUpload","datasetIds":{"inputdatasetId":[],"outputdatasetId":["Kafka_320087"]},"autoInspectHdfsFilePath":"employee_100.csv","rowCount":100,"triggerTime":"3 seconds","samplingMethod":"topN"},"maxOffsetsPerTrigger":"","failOnDataLoss":"true","sourceHeader":false,"parserType":"DELIMITED","delimiter":",","operatorType":"receiver","subsystemName":"EmployeeWages","mvelfnclist":[],"expfldlst":""},"type":"channel","channelType":"single","messageTypes":["Kafka_320087"],"groupings":[],"configured":true,"scheme":"com.streamanalytix.storm.core.scheme.TraceMessageMultiScheme","notes":"","errorConfig":{"connectionName":"Default","connectionId":"9172571d-9a7b-4b09-8f86-aeceac8fe473","componentType":"rabbitmq","isErrorHandlingRequired":true,"errorLogTarget":"rabbitmq","partitions":"","replicationFactor":"","topicAdministration":"","x-message-ttl":""}}],"processors":[{"canChangeSchema":"false","coordinates":[210,10],"className":"com.streamanalytix.spark.ss.processor.StructuredStreamingProcessor","label":"SalaryAbove10k","inputDStreamType":"plain","type":"processor","emitStreamIds":[{"emitStreamId":"defaultStream","outputFields":["tracemessage"],"applyFilter":false,"filterCriteria":[],"componentId":"Aggregation_729266"},{"emitStreamId":"defaultStream","outputFields":["tracemessage"],"applyFilter":false,"filterCriteria":[],"componentId":"Kafka_623442"},{"emitStreamId":"saxErrorStream","outputFields":["tracemessage","streamIds"],"applyFilter":false,"filterCriteria":[],"componentId":"deadLaterChannel"}],"groupings":[{"type":"shuffle","componentId":"Expressionfilter_691742","groupFields":[],"streamId":"defaultStream"}],"appType":"structuredstreaming","messageTypeId":"tracemessage","name":"Filter_614797","id":"filter-processor","outputDStreamType":"plain","config":{"configFields":{},"executorPlugin":"com.streamanalytix.spark.ss.helper.FilterHelper","filterQuery":{"rules":[{"message":"Kafka_320087","filterNegate":false,"filterJSON":{"condition":"AND","rules":[{"id":"salary","field":"salary","type":"string","input":"text","operator":"greater","value":"10000"}]},"filterQuery":"SELECT * FROM Filter_614797 WHERE(salary > 10000)"}]},"connectionConfig":{},"saxInspect":{"referenceSchemaId":{"inputSchemaId":["Kafka_320087"],"outputSchemaId":["Kafka_320087"]},"datasetIds":{"inputdatasetId":["Expressionfilter_691742"],"outputdatasetId":["Filter_614797"]},"detectSchema":false},"mvelfnclist":[],"expfldlst":"filterQuery","operatorType":"processor","syncWithSource":"true","subsystemName":"EmployeeWages"},"channelType":"single","messageTypes":["Kafka_320087"],"configured":true,"notes":"","errorConfig":{"connectionName":"Default","connectionId":"9172571d-9a7b-4b09-8f86-aeceac8fe473","componentType":"rabbitmq","isErrorHandlingRequired":true,"errorLogTarget":"rabbitmq","partitions":"","replicationFactor":"","topicAdministration":"","x-message-ttl":""}},{"canChangeSchema":true,"coordinates":[306,11],"className":"com.streamanalytix.spark.ss.processor.StructuredStreamingProcessor","label":"AverageSalary","inputDStreamType":"plain","type":"processor","emitStreamIds":[{"emitStreamId":"defaultStream","outputFields":["tracemessage"],"applyFilter":false,"filterCriteria":[],"componentId":"Elasticsearch_578897"},{"emitStreamId":"saxErrorStream","outputFields":["tracemessage","streamIds"],"applyFilter":false,"filterCriteria":[],"componentId":"deadLaterChannel"}],"groupings":[{"type":"shuffle","componentId":"Filter_614797","groupFields":[],"streamId":"defaultStream"}],"appType":"structuredstreaming","messageTypeId":"tracemessage","name":"Aggregation_729266","id":"ss-associative-aggregation-processor","outputDStreamType":"paired","config":{"watermarkDuration":"","timeWindow":"none","windowDuration":"0","applyWatermarking":"no","addCurrentTimestamp":"false","groupBy":"no","fields":[{"fun":"avg","fieldName":"salary","fieldAlias":"avg_salary"}],"slideDuration":"0","eventColumn":"","groupingFields":[],"executorPlugin":"com.streamanalytix.spark.ss.helper.AggregationHelper","connectionConfig":{},"saxInspect":{"referenceSchemaId":{"inputSchemaId":["Kafka_320087"],"outputSchemaId":["Aggregation_729266"]},"datasetIds":{"inputdatasetId":["Filter_614797"],"outputdatasetId":["Aggregation_729266"]},"detectSchema":false},"outputMessage":"Kafka_320087","mvelfnclist":[],"expfldlst":"","operatorType":"processor","subsystemName":"EmployeeWages"},"channelType":"single","messageTypes":["Kafka_320087"],"configured":true,"notes":"","errorConfig":{"connectionName":"Default","connectionId":"9172571d-9a7b-4b09-8f86-aeceac8fe473","componentType":"rabbitmq","isErrorHandlingRequired":true,"errorLogTarget":"rabbitmq","partitions":"","replicationFactor":"","topicAdministration":"","x-message-ttl":""}},{"coordinates":[410,10],"className":"com.streamanalytix.spark.ss.processor.StructuredStreamingProcessor","label":"ElasticSearch","inputDStreamType":"both","type":"emitter","emitStreamIds":[{"emitStreamId":"saxErrorStream","outputFields":["tracemessage","streamIds"],"applyFilter":false,"filterCriteria":[],"componentId":"deadLaterChannel"}],"groupings":[{"type":"shuffle","componentId":"Aggregation_729266","groupFields":[],"streamId":"defaultStream"}],"appType":"structuredstreaming","messageTypeId":"tracemessage","name":"Elasticsearch_578897","id":"elasticsearch-emitter","outputDStreamType":"both","config":{"indexSource":"true","excludeEmptyFields":"false","indexNumberOfShards":"2","emitterOutputFlds":{"Aggregation_729266":["avg_salary"]},"customClassPath":"","routingRequired":"false","keyFields":[],"indexExpression":"avg_employee_salary","keyType":"uuid","componentType":"elasticsearch","indexKeyName":"sax_index_id","acrossFieldSearchEnabled":"false","maxConnectionRetry":"3","routingPolicy":"","trigger":"","indexReplicationFactor":"1","indexStore":"elasticsearch","isTTLEnable":"","ttlValue":"","connectionRetryDelay":"30000","isNestedJson":"","connectionId":"37c30ec1-0a94-4aaa-9f6b-950595dde0d6","outputmode":"append","operationType":"com.streamanalytix.spark.processor.BatchAwareSparkProcessor","connectionName":"Default","batchSize":"1","saxMessageType":"Aggregation_729266","executorPlugin":"com.streamanalytix.spark.ss.emitter.ESEmitter","isBatchEnable":"false","connectionConfig":{},"saxInspect":{"referenceSchemaId":{"inputSchemaId":["Aggregation_729266"],"outputSchemaId":["Aggregation_729266"]},"datasetIds":{"inputdatasetId":["Aggregation_729266"],"outputdatasetId":["Elasticsearch_578897"]},"detectSchema":false},"checkpointLocation":"/user/sax/cpjhsghjds454","mvelfnclist":[],"expfldlst":"","processingTime":"","processingTimeUnit":"minutes","operatorType":"processor","subsystemName":"EmployeeWages"},"channelType":"single","messageTypes":["Aggregation_729266"],"configured":true,"notes":"","errorConfig":{"connectionName":"Default","connectionId":"9172571d-9a7b-4b09-8f86-aeceac8fe473","componentType":"rabbitmq","isErrorHandlingRequired":true,"errorLogTarget":"rabbitmq","partitions":"","replicationFactor":"","topicAdministration":"","x-message-ttl":""}},{"canChangeSchema":"false","coordinates":[320,112],"className":"com.streamanalytix.spark.ss.processor.StructuredStreamingProcessor","label":"Kafka","inputDStreamType":"both","type":"emitter","emitStreamIds":[{"emitStreamId":"saxErrorStream","outputFields":["tracemessage","streamIds"],"applyFilter":false,"filterCriteria":[],"componentId":"deadLaterChannel"}],"groupings":[{"type":"shuffle","componentId":"Filter_614797","groupFields":[],"streamId":"defaultStream"}],"appType":"structuredstreaming","messageTypeId":"tracemessage","name":"Kafka_623442","id":"kafka-emitter","outputDStreamType":"both","config":{"partitions":"1","replicationFactor":"1","custom":"","keyBased":[],"kafkaCustomPartitionerPlugin":"default","trigger":"","outputFields":["name","age","salary","timestamp"],"isTTLEnable":"","producerType":"sync","ttlValue":"","checkpointLocation":"/user/sax/cpedsg5u57","delimiter":",","connectionId":"c9b5a492-12f0-4232-b3b7-baec4b9b841d","topicName":"employeeData","outputmode":"append","connectionName":"Default","batchSize":"1","executorPlugin":"com.streamanalytix.spark.ss.helper.KafkaEmitterHelper","outputFormat":"json","isBatchEnable":"false","connectionConfig":{},"saxInspect":{"referenceSchemaId":{"inputSchemaId":["Kafka_320087"],"outputSchemaId":["Kafka_320087"]},"datasetIds":{"inputdatasetId":["Filter_614797"],"outputdatasetId":["Kafka_623442"]},"detectSchema":false},"mvelfnclist":[],"expfldlst":"","processingTime":"","processingTimeUnit":"minutes","operatorType":"processor","subsystemName":"EmployeeWages"},"channelType":"single","messageTypes":["Kafka_320087"],"configured":true,"notes":"","errorConfig":{"connectionName":"Default","connectionId":"9172571d-9a7b-4b09-8f86-aeceac8fe473","componentType":"rabbitmq","isErrorHandlingRequired":true,"errorLogTarget":"rabbitmq","partitions":"","replicationFactor":"","topicAdministration":"","x-message-ttl":""}},{"canChangeSchema":"false","coordinates":[110,10],"className":"com.streamanalytix.spark.ss.processor.StructuredStreamingProcessor","label":"ExpressionFilter","inputDStreamType":"plain","type":"processor","emitStreamIds":[{"emitStreamId":"defaultStream","outputFields":["tracemessage"],"applyFilter":false,"filterCriteria":[],"componentId":"Filter_614797"},{"emitStreamId":"saxErrorStream","outputFields":["tracemessage","streamIds"],"applyFilter":false,"filterCriteria":[],"componentId":"deadLaterChannel"}],"groupings":[{"type":"shuffle","componentId":"Kafka_320087","groupFields":[],"streamId":"defaultStream"}],"appType":"structuredstreaming","messageTypeId":"tracemessage","name":"Expressionfilter_691742","id":"expression-filter-processor","outputDStreamType":"plain","config":{"operations":[{"expression":"!(name <=> 'Roger')"}],"rules":[{"label":"name equals 'Roger'","expression":"!(name <=> 'Roger')"}],"executorPlugin":"com.streamanalytix.spark.ss.processor.ExpressionEvaluatorProcessor","connectionConfig":{},"saxInspect":{"referenceSchemaId":{"inputSchemaId":["Kafka_320087"],"outputSchemaId":["Kafka_320087"]},"datasetIds":{"inputdatasetId":["Kafka_320087"],"outputdatasetId":["Expressionfilter_691742"]}},"subsystemName":"EmployeeWages"},"channelType":"single","messageTypes":["Kafka_320087"],"configured":true,"errorConfig":{}}],"esperHAEnabled":false,"topologySupervisors":[],"versionNumber":1,"parentVersionNumber":1,"description":"my 1st version","customJarName":"","originalCustomJarName":"","customFileNames":"employee_100.csv","sessionId":"C5DA0A1A2C244C99F4EA1BE9A0D374AB","connections":["37c30ec1-0a94-4aaa-9f6b-950595dde0d6","c9b5a492-12f0-4232-b3b7-baec4b9b841d","c9b5a492-12f0-4232-b3b7-baec4b9b841d"],"isReplayAlter":false,"displayColumnsMap":{"Kafka_320087":{"Kafka_320087":{"allCols":["name","age","salary","timestamp"],"displayCols":["name","age","salary","timestamp"]}},"Filter_614797":{"Kafka_320087":{"allCols":["name","age","salary","timestamp"],"displayCols":["name","age","salary","timestamp"]}},"Aggregation_729266":{"Aggregation_729266":{"allCols":["avg_salary"],"displayCols":["avg_salary"]}},"Elasticsearch_578897":{"Aggregation_729266":{"allCols":["avg_salary"],"displayCols":["avg_salary"]}},"Kafka_623442":{"Kafka_320087":{"allCols":["name","age","salary","timestamp"],"displayCols":["name","age","salary","timestamp"]}},"Expressionfilter_691742":{"Kafka_320087":{"allCols":["name","age","salary","timestamp"],"displayCols":["name","age","salary","timestamp"]}}},"engine":"spark","inspect":"N","templateName":"","structure":"pipeline","manualInspectSchema":{"emitters":{"Elasticsearch_578897":[{"nullable":true,"dataType":"java.lang.Double","name":"avg_salary","alias":"avg_salary","outputDateFormat":"yyyy-MM-dd HH:mm:ss"}],"Kafka_623442":[{"nullable":true,"dataType":"java.lang.String","name":"name","alias":"name","outputDateFormat":"yyyy-MM-dd HH:mm:ss"},{"nullable":true,"dataType":"java.lang.Integer","name":"age","alias":"age","outputDateFormat":"yyyy-MM-dd HH:mm:ss"},{"nullable":true,"dataType":"java.lang.Integer","name":"salary","alias":"salary","outputDateFormat":"yyyy-MM-dd HH:mm:ss"},{"nullable":true,"dataType":"java.lang.Integer","name":"timestamp","alias":"timestamp","outputDateFormat":"yyyy-MM-dd HH:mm:ss"}]}},"alert":{"added":[],"updated":[],"deleted":[]},"customJarBeforeModification":"","autoInspectSchema":{"Kafka_320087":[{"name":"name","alias":"name","dataType":"java.lang.String","dateFormat":"yyyy-MM-dd HH:mm:ss","inputDateFormat":"yyyy-MM-dd HH:mm:ss","outputDateFormat":"yyyy-MM-dd HH:mm:ss","fieldName":"name","fieldAlias":"name","fieldLabel":"name","stringToDate":false,"isInputField":"Y","index":"3","store":"yes","isTimestampField":"N","selected":true},{"name":"age","alias":"age","dataType":"java.lang.Integer","dateFormat":"yyyy-MM-dd HH:mm:ss","inputDateFormat":"yyyy-MM-dd HH:mm:ss","outputDateFormat":"yyyy-MM-dd HH:mm:ss","fieldName":"age","fieldAlias":"age","fieldLabel":"age","stringToDate":false,"isInputField":"Y","index":"3","store":"yes","isTimestampField":"N","selected":true},{"name":"salary","alias":"salary","dataType":"java.lang.Integer","dateFormat":"yyyy-MM-dd HH:mm:ss","inputDateFormat":"yyyy-MM-dd HH:mm:ss","outputDateFormat":"yyyy-MM-dd HH:mm:ss","fieldName":"salary","fieldAlias":"salary","fieldLabel":"salary","stringToDate":false,"isInputField":"Y","index":"3","store":"yes","isTimestampField":"N","selected":true},{"name":"timestamp","alias":"timestamp","dataType":"java.lang.Integer","dateFormat":"yyyy-MM-dd HH:mm:ss","inputDateFormat":"yyyy-MM-dd HH:mm:ss","outputDateFormat":"yyyy-MM-dd HH:mm:ss","fieldName":"timestamp","fieldAlias":"timestamp","fieldLabel":"timestamp","stringToDate":false,"isInputField":"Y","index":"3","store":"yes","isTimestampField":"N","selected":true}],"Aggregation_729266":[{"name":"avg_salary","alias":"avg_salary","dataType":"java.lang.Double","dateFormat":"yyyy-MM-dd HH:mm:ss","inputDateFormat":"yyyy-MM-dd HH:mm:ss","outputDateFormat":"yyyy-MM-dd HH:mm:ss","fieldName":"avg_salary","fieldAlias":"avg_salary","fieldLabel":"avg_salary","stringToDate":false,"isInputField":"N","index":"3","store":"yes","isTimestampField":"N","selected":true}]},"httpSessionId":"C5DA0A1A2C244C99F4EA1BE9A0D374AB","subsystemName":"EmployeeWages","tenantId":"1"}